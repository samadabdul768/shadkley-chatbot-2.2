import streamlit as st
from transformers import pipeline

# ===== CONTEXT =====
context = """Shadley Public School is a long-established educational institution in Rajouri Garden, West Delhi, that has been committed since 1969 to nurturing children into confident, capable, and responsible individuals who are prepared to thrive in an ever-changing world. The school emphasizes fostering childrenâ€™s innate curiosity, encouraging their creativity, and shaping them into lifelong learners who become conscientious members of society, viewing education not merely as the transmission of information but as a holistic experience that shapes character, values, and skills. Shadley functions as a vibrant community where students, teachers, and parents collaborate closely to create an unparalleled educational environment, and the atmosphere on campus is intentionally warm, supportive, and motivating so that academic success, personal development, and character building go hand in hand. This approach is backed by a team of dedicated and experienced educators who continuously refine their pedagogy to meet the demands of a â€œNew Worldâ€ while staying rooted in Indian traditions and values, thereby allowing children to grow in an environment that respects culture while embracing innovation. Over the decades, the school has developed a reputation as a progressive institution; it was recognized by the Education Department, Government of NCT of Delhi in 1983 and has been affiliated to the Central Board of Secondary Education (CBSE) since 1993, which formalized its role as a mainstream institution delivering quality education aligned with national standards.A distinctive feature of Shadley Public School is its pioneering collaboration with AQUATHERA, described as North Indias first doctor-led aqua therapy centre, through which the school integrates a revolutionary approach to student health, growth, and development using a temperature-controlled pool. This initiative goes beyond conventional physical education by combining educational goals with medical insights so that children receive support not only in academics but also in their physical, neurological, and emotional development, reflecting the belief that true education must care for the whole child. The on-campus aqua facility allows students to benefit from structured aqua-based activities and therapy in a safe, professionally supervised setting, reinforcing the schoolâ€™s emphasis on preventive health, motor skills, confidence, and emotional well-being through movement in water. This collaboration underscores the schoolâ€™s readiness to adopt first-of-its-kind programs in Northern India, positioning Shadley not just as a traditional school but as an institution that merges education with modern health science in a practical and child-centered way.The foundational vision of Shadley Public School is deeply tied to its founders, whose lives and philosophies continue to shape the schoolâ€™s culture and direction. Late Madam S. Sachdeva, the Founder Member from 1969 to 2006, recognized education as a crucial pillar for social change and firmly believed that the children of today could transform the world of tomorrow, which inspired her to devote her life to creating an â€œEducated India.â€ With this conviction, she laid the building blocks of Shadley in 1969 with the dream of imparting quality education to children in an enriching environment that nurtures their capabilities and promotes holistic development, ensuring that learning would never be reduced to rote knowledge alone. Her legacy is reflected in the schoolâ€™s continuing focus on nurturing both intellect and character, encouraging students to grow as informed, empathetic, and socially responsible individuals who are ready to contribute positively to society.Carrying this legacy forward, S. Kochar, the Founder-Chairperson, encapsulates the schoolâ€™s spirit in its motto â€œLead us to Light,â€ which symbolizes Shadleyâ€™s commitment to guide children as torchbearers of tomorrow. She emphasizes that while the school keeps its roots firmly grounded in Indian traditions and customs, it continuously updates its pedagogy to face the challenges of the modern world, making Shadley a dynamic institution that adapts to contemporary demands while preserving its core values. As an educationist, she views it as her responsibility to enlighten the path of youth, helping them expand their wings so they can take flight in the skies of life they desire, combining aspiration with grounded wisdom. Her leadership highlights the importance of a balanced educationâ€”one that respects heritage yet remains open to innovation, and one that views every child as a potential leader whose capabilities must be nurtured with care and vision.In its more than five decades of existence, Shadley Public School has grown into an established institution that has produced capable professionals in diverse fields and continues to channelize studentsâ€™ potential for integrated development. Managing Director Hemant Sachdeva plays a significant role in this ongoing growth by focusing on incorporating excellence in both academic modules and infrastructural facilities, ensuring that the physical and academic environment of the school remains stimulating and future-ready. He is committed to providing state-of-the-art infrastructure that supports modern teaching-learning practices and helps enhance childrenâ€™s co-scholastic abilities, reflecting the schoolâ€™s belief that students must be equipped with a broad range of skills beyond textbook knowledge. Field visits, competitions, and excursions are regular features of the academic year at Shadley, offering students exposure to real-world contexts, expanding their opportunities, and helping them develop life skills and personality traits such as confidence, leadership, adaptability, and teamwork. He believes that learning at Shadley must transcend the mere dissemination of academic content and that faculty should actively expand boundaries beyond the classroom, creating experiences that are meaningful, engaging, and deeply transformative for students.Principal Rashmi Sachdeva guides the institution through rapidly changing times, acknowledging that traditional practices are constantly being challenged by new realities in education and society. She emphasizes a commitment to providing the best for children by adopting a â€œNew Outlookâ€ in pedagogy that moves away from purely instructor-led classrooms towards more collaborative, student-centered approaches. Recognizing the need for educators to be genuinely proactive and empathetically enthusiastic, she warns that without such responsiveness, the true meaning of education risks being altered, especially in an era when technology and societal expectations are evolving rapidly. Under her leadership, Shadley promotes a transformed studentâ€“teacher relationship built on collaboration, mutual respect, and shared responsibility for learning, supported by the latest technology and innovative practices. A central pillar of instruction at Shadley is a â€œBlended Approachâ€ where co-scholastic activities such as swimming, horse-riding, singing, dancing, and oration occupy center stage alongside academics, thereby allowing children to regularly evaluate their learning while also having ample opportunity to learn and unlearn through diverse experiences. Drawing from the wisdom popularly attributed to Confuciusâ€”â€œI hear and I forget, I see and I remember, I do and I understandâ€â€”she underlines the importance of experiential learning, where doing becomes the route to deeper understanding. As the leader of the institution, she aims to guide students, parents, and teachers to embrace change wholeheartedly, nurturing children like seeds so they can sprout against all challenges, root themselves in the ground of wisdom, and spread their branches far and wide to reach their full potential.Reflecting its commitment to holistic development, Shadley Public School offers a rich and thoughtfully designed range of academic and co-scholastic infrastructure that supports experiential and skill-based learning. The Science Labs, encompassing Physics, Chemistry, and Biology, feature meticulously designed workstations and high-quality instruments, ensuring that students can engage in practical experiments that deepen their conceptual understanding and spark scientific curiosity. These labs provide a safe, well-equipped environment where children learn to observe, hypothesize, experiment, and infer, helping them internalize scientific principles through hands-on activity rather than rote learning. The STEM Lab introduces students to the world of robotics and integrated STEM learning, allowing them to explore science, technology, engineering, and mathematics through engaging, project-based activities that foster innovative thinking and problem-solving. In this space, students work on practical projects and interactive tasks, gaining early exposure to emerging technologies and developing skills such as logical reasoning, collaboration, and design thinking, which are essential for the 21st-century landscape.The schoolâ€™s Computer Lab provides students with a robust network, high-speed internet, and updated computer systems, granting them access to a wide range of digital resources and educational software that enhance their academic journey and digital literacy. In an increasingly technology-driven world, this lab allows students to explore coding, research, multimedia creation, and various digital tools, preparing them to be confident and responsible users of technology. Complementing this, the E-Learning Lab is explicitly designed to foster 21st-century skills by enabling virtual classrooms, collaborative projects, and online research, all of which encourage critical thinking, creativity, communication, and problem-solving. Within this environment, students learn to navigate digital platforms, work together on shared tasks, and use technology as a tool for inquiry and innovation, reinforcing the schoolâ€™s blended learning philosophy. There is also a Communication Lab described in similar terms, indicating a dedicated space where activities likely focus on enhancing communication skills through technology-enabled and interactive methods, further strengthening studentsâ€™ ability to express themselves clearly and confidently.The library at Shadley acts as a treasure trove of knowledge, stocked with an extensive collection of books, periodicals, and digital resources that invite students to explore literature, information, and ideas across a variety of disciplines and genres. This space not only supports academic research and reading for school projects but also cultivates a lifelong love for reading, reflection, and independent learning, encouraging students to move beyond syllabus-bound materials. The Art and Craft Room provides a nurturing space for creative expression, where walls echo with the imagination of budding artists as they experiment with mediums ranging from watercolors to clay, turning their ideas into tangible forms. Every stroke of the brush and cut of paper becomes an opportunity for students to tell unique stories, build fine motor skills, develop aesthetic sensibilities, and gain confidence in their own expressive abilities.Complementing visual arts, the Music Room offers students a wide array of musical instruments, including classic pianos, guitars, and traditional instruments from different cultures, enabling them to explore rhythm, melody, and harmony in both individual and group settings. Exposure to music is seen as a powerful way to calm the mind, reduce stress, and develop softer skills such as patience, discipline, and confidence, all of which have positive spillover effects on academic performance, particularly in areas like language and mathematics. Students are trained in one discipline such as Casio, Guitar, or Rhythm according to their interests, ensuring focused skill development while still participating in broader musical activities and performances organized by the school. The Dance Room, with its ample space, allows children to explore various dance forms ranging from classical to contemporary, encouraging self-expression, physical fitness, grace, and teamwork. Dance, as part of the schoolâ€™s co-scholastic focus, also serves as a means for emotional release and joy, helping young people unwind and cope with anxiety or frustration that often accompany todayâ€™s fast-paced lifestyles. The Drama and Theater Area further enriches this cultural fabric by serving as a sanctuary for budding actors, directors, and playwrights, providing a platform to explore emotions, build communication skills, and cultivate confidence through the art of theater. Sports and physical education occupy a prominent place at Shadley Public School, reflecting the belief that games and sports are instrumental in building national unity, solidarity, and strong personal values. The schoolâ€™s state-of-the-art swimming pool offers an aquatic environment where students learn swimming under the guidance of certified instructors, combining physical fitness with lessons in discipline, perseverance, and teamwork. The pool is also central to club activities such as Aqua Floats, the swimming club, where students participate in aqua aerobics and water polo, including an annual sports event that draws enthusiastic participation and enjoyment. Beyond swimming, the schoolâ€™s sports facilities include a spacious basketball court, a skating ring, and meticulously maintained playing fields for sports like soccer and baseball, along with a fully equipped horse-riding area, making Shadley one of the few schools to actively promote horse riding as a sport. Through these facilities and dedicated coaching, students learn teamwork, discipline, integrity, and respect for leadership, with sportsmanship emphasized as a value that should guide conduct both on and off the field. Participation in various inter and intra-school competitions gives children opportunities to showcase their hard work and skills, motivating them to strive for excellence while understanding the importance of effort, resilience, and shared victory.To systematically nurture diverse talents and interests, Shadley Public School runs a wide range of clubs and activities that engage students in sports, cultural pursuits, social outreach, and creative expression. The Riders Club introduces children to horse riding, which is enjoyed first as an activity and later as a sport, helping them develop confidence, balance, coordination, and a sense of teamwork while bonding with animals. The Wheelerâ€™s Club offers students a chance to refine their skills on wheels, including roller-based activities that remain both challenging and fun, keeping children excited while providing a healthy workout that enhances concentration and balance. Aqua Floats, the swimming club, not only promotes swimming as a full-body exercise for both the mind and body but also builds camaraderie through events like water polo and group aquatic activities in the schoolâ€™s hygienic pool.The Foot Loose Dance Club engages children in dance as a compelling art form that helps them connect emotionally, unwind, and have fun, simultaneously addressing the anxiety and frustration commonly found among todayâ€™s youth. At Shadley, dance is integrated into physical fitness routines as a form of aerobic exercise, working many muscle groups and contributing to overall well-being while also enhancing rhythm, coordination, and self-confidence. Josh, the Interact Club, functions as an awareness program initiated by students of classes IX to XII with the aim of encouraging active interest in community development and advocacy. Through Josh, students participate in initiatives led by the Science and Social Science departments, using both online and offline modes to disseminate information within the school and the broader society, which in turn helps them develop leadership qualities, civic sense, and social responsibility.The Theatre Club engages children in memory-based fun theatre games and structured drama activities, using drama in education as a means to enhance mental abilities, observation skills, sensitivity to emotions, and overall knowledge. It serves as a unique alternative mode of learning, focusing on student participation and experiential engagement rather than passive listening, helping children express themselves, collaborate, and think creatively. Karafty Kilp, the Art and Crafts Club, nurtures creativity and encourages innovative thinking by involving children in artistic projects and craftwork, including initiatives like SUPA that inspire them to think out of the box and tackle waste management problems for a cleaner environment. The club also helps students develop an appreciation for art and culture, teaching them to respect and preserve heritage so that they can become torchbearers of cultural continuity and environmental responsibility. Melody, the music club, is divided into two subgroupsâ€”Tarang, the instrumental club, and Geet Gunjan, the vocal music clubâ€”giving students avenues to explore both instrumental and vocal music in structured ways. Through regular practice and performance, students cultivate discipline, confidence, and aesthetic sensitivity, while also experiencing the calming and uplifting effects of music in a stressful socio-cultural context.Sports Clubs at Shadley further institutionalize the role of games in student life, treating sports fields as laboratories where children experience the outcomes of effort, strategy, cooperation, and competition firsthand. Students learn team spirit, discipline, integrity, and respect for leadership, internalizing the idea that a sportsperson must apply principles and training both on and off the field, enjoying victory as a shared achievement and treating mistakes as collective learning opportunities. Regular participation in inter and intra-school competitions allows children to test their abilities, showcase their progress, and gain recognition, which in turn fuels their motivation to improve further and embody true sportsmanship.Academically and culturally, Shadleyâ€™s calendar is rich and dynamic, described as a symphony of knowledge punctuated by cultural soirÃ©es, scholarly debates, and artistic exhibitions that celebrate the intellectual and creative fervor of the institution. Students participate in a wide variety of events and workshops, including thematic occasions such as Cyber Crime Workshops, Workshops on Happy Classroom, Workshops on Disaster Management, Annual Swimming Meets, Zonal Science and Maths Exhibitions, Halloween celebrations, Earth Day activities, Christmas celebrations, and Youth Parliament sessions, among others. These events provide platforms for students to apply classroom learning in real-world contexts, develop critical awareness on issues like cyber safety and disaster preparedness, and experience democratic processes and public speaking through initiatives such as Youth Parliament. Such activities also foster a sense of community, creativity, and joy on campus, making school life vibrant and memorable while reinforcing the schoolâ€™s emphasis on holistic development.Shadley Public Schoolâ€™s commitment to excellence and all-round development is reflected in its achievements at the zonal and inter-zonal levels, where the school has earned distinction in both sports and cultural domains. In the Inter Zonal results for the year 2025â€“2026, the school showcased an exceptional performance at the zonal level, securing the Overall Championship Trophy in the boysâ€™ category for sports, which highlights the strength of its training programs and the dedication of its student athletes. In athletics, a student named Chandni in the sub-junior girlsâ€™ category was honored as the Best Athlete â€“ Female, winning two trophies, which underscores the encouragement and opportunities provided to girl students as well. The schoolâ€™s teams added to this success by winning 17 trophies in team sports, demonstrating depth of talent and teamwork across disciplines. The cultural wing also excelled, earning 33 medals and 3 trophies, and several students were specially invited to perform at the event, where they received great appreciation, collectively showcasing the schoolâ€™s balanced strengths in both sports and cultural pursuits. The ceremony celebrating these achievements highlighted the all-round excellence of Shadleyâ€™s students and brought immense pride to the school community, reinforcing its identity as an institution that believes in and delivers comprehensive education.Situated at Press Colony G-8 Area, Rajouri Garden, New Delhiâ€“110064, the school maintains open channels of communication with parents and the community through telephone numbers and an official email address, admin@shadleypublicschool.com, ensuring that queries and concerns can be addressed promptly and professionally. Contact options include multiple phone lines, including a mobile number and several landline numbers, making the school easily reachable for admissions, general inquiries, and coordination regarding student activities. Overall, Shadley Public School presents itself as a progressive, child-centered, and value-driven CBSE institution that seamlessly combines strong academics, state-of-the-art infrastructure, innovative health and therapy programs, rich co-scholastic offerings, and a legacy of visionary leadership, all aimed at empowering young minds to become well-rounded human beings and responsible citizens who are prepared to lead and serve in a dynamic world."""


# Page config
st.set_page_config(
    page_title="Shadley Public School Chatbot",
    page_icon="ðŸŽ“",
    layout="centered"
)

st.title("ðŸŽ“ Shadley Public School Chatbot")
st.write("Ask anything about Shadley Public School")

# Load model once
@st.cache_resource
def load_model():
    return pipeline(
        "question-answering",
        model="distilbert-base-cased-distilled-squad"
    )

qa_pipeline = load_model()

# Chat history
if "messages" not in st.session_state:
    st.session_state.messages = []

# Display messages
for msg in st.session_state.messages:
    with st.chat_message(msg["role"]):
        st.markdown(msg["content"])

# Input
question = st.chat_input("Type your question here...")

if question:
    st.session_state.messages.append({"role": "user", "content": question})

    with st.chat_message("user"):
        st.markdown(question)

    with st.chat_message("assistant"):
        result = qa_pipeline(question=question, context=context)
        answer = result["answer"] if result["score"] > 0.45 else "Sorry, this information is not available in the given context."
        st.markdown(answer)

    st.session_state.messages.append({"role": "assistant", "content": answer})